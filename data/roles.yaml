# Role-based class and port definitions
role_classes:
  base:
    ports:
      - port: 22
        protocol: tcp
        source: lan
      - port: 8120
        protocol: tcp
        source: lan

  swarm:
    classes:
      - orbit_swarm::worker
    ports:
      - port: 7946
        protocol: tcp
        source: lan
      - port: 7946
        protocol: udp
        source: lan
      - port: 4789
        protocol: udp
        source: lan

  swarm_manager:
    classes:
      - orbit_swarm::manager
    ports:
      - port: 2377
        protocol: tcp
        source: lan

  komodo_core:
    classes:
      - komodo::core

  traefik:
    ports:
      - port: 80
        protocol: tcp
        source: any
      - port: 443
        protocol: tcp
        source: any
